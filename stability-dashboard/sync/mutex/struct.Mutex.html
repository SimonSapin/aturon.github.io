<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The sync library documentation.">

    <title>sync::mutex::Mutex - Rust</title>

    <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:400,600'
          rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="../../main.css">

    <link rel="shortcut icon" href="http://www.rust-lang.org/favicon.ico">
    
</head>
<body>
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <section class="sidebar">
        <a href='../../sync/index.html'><img src='http://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png' alt='' width='100'></a>
        <p class='location'><a href='../index.html'>sync</a>&#8203;::<a href='index.html'>mutex</a></p><div class='block struct'><h2>Structs</h2><a class='struct ' href='struct.Guard.html'>Guard</a><a class='struct current' href='struct.Mutex.html'>Mutex</a><a class='struct ' href='struct.StaticMutex.html'>StaticMutex</a></div>
    </section>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press 'S' to search, '?' for more options..."
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'>Struct <a href='../index.html'>sync</a>::<a href='index.html'>mutex</a>::<a class='struct' href=''>Mutex</a><a class='stability Experimental' title=''>Experimental</a><span class='out-of-band'><a id='src-5336' href='../../src/sync/Users/aturon/moz/working/stability-dashboard/src/libsync/mutex.rs.html#99-108'>[src]</a></span></h1>
<pre class='rust struct'>pub struct Mutex {
    // some fields omitted
}</pre><div class='docblock'><p>A mutual exclusion primitive useful for protecting shared data</p>

<p>This mutex is an implementation of a lock for all flavors of tasks which may
be grabbing. A common problem with green threads is that they cannot grab
locks (if they reschedule during the lock a contender could deadlock the
system), but this mutex does <em>not</em> suffer this problem.</p>

<p>This mutex will properly block tasks waiting for the lock to become
available. The mutex can also be statically initialized or created via a
<code>new</code> constructor.</p>

<h1 id="example" class='section-header'><a
                           href="#example">Example</a></h1><span id='rust-example-raw-0' class='rusttest'>extern crate sync;
fn main() {
    use sync::mutex::Mutex;
    
    let m = Mutex::new();
    let guard = m.lock();
    // do some work
    drop(guard); // unlock the lock
}</span><pre id='rust-example-rendered-0' class='rust '>
<span class='kw'>use</span> <span class='ident'>sync</span>::<span class='ident'>mutex</span>::<span class='ident'>Mutex</span>;

<span class='kw'>let</span> <span class='ident'>m</span> <span class='op'>=</span> <span class='ident'>Mutex</span>::<span class='ident'>new</span>();
<span class='kw'>let</span> <span class='ident'>guard</span> <span class='op'>=</span> <span class='ident'>m</span>.<span class='ident'>lock</span>();<span class='comment'>
// do some work
</span><span class='ident'>drop</span>(<span class='ident'>guard</span>);<span class='comment'> // unlock the lock
</span></pre>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><a class='stability Experimental' title='Experimental'></a><code>impl <a class='struct' href='../../sync/mutex/struct.Mutex.html' title='sync::mutex::Mutex'>Mutex</a></code></h3><div class='impl-methods'><h4 id='method.new' class='method'><a class='stability Experimental' title='Experimental'></a><code>fn <a href='#method.new' class='fnname'>new</a>() -&gt; <a class='struct' href='../../sync/mutex/struct.Mutex.html' title='sync::mutex::Mutex'>Mutex</a></code></h4>
<div class='docblock'><p>Creates a new mutex in an unlocked state ready for use.</p>
</div><h4 id='method.try_lock' class='method'><a class='stability Experimental' title='Experimental'></a><code>fn <a href='#method.try_lock' class='fnname'>try_lock</a>&lt;'a&gt;(&amp;'a self) -&gt; <a class='type' href='../../core/option/type.Option.html' title='core::option::Option'>Option</a>&lt;<a class='struct' href='../../sync/mutex/struct.Guard.html' title='sync::mutex::Guard'>Guard</a>&lt;'a&gt;&gt;</code></h4>
<div class='docblock'><p>Attempts to acquire this lock.</p>

<p>If the lock could not be acquired at this time, then <code>None</code> is returned.
Otherwise, an RAII guard is returned. The lock will be unlocked when the
guard is dropped.</p>

<p>This function does not block.</p>
</div><h4 id='method.lock' class='method'><a class='stability Experimental' title='Experimental'></a><code>fn <a href='#method.lock' class='fnname'>lock</a>&lt;'a&gt;(&amp;'a self) -&gt; <a class='struct' href='../../sync/mutex/struct.Guard.html' title='sync::mutex::Guard'>Guard</a>&lt;'a&gt;</code></h4>
<div class='docblock'><p>Acquires a mutex, blocking the current task until it is able to do so.</p>

<p>This function will block the local task until it is available to acquire
the mutex. Upon returning, the task is the only task with the mutex
held. An RAII guard is returned to allow scoped unlock of the lock. When
the guard goes out of scope, the mutex will be unlocked.</p>
</div></div><h2 id='implementations'>Trait Implementations</h2><h3 class='impl'><a class='stability Experimental' title='Experimental'></a><code>impl <a class='trait' href='../../core/ops/trait.Drop.html' title='core::ops::Drop'>Drop</a> for <a class='struct' href='../../sync/mutex/struct.Mutex.html' title='sync::mutex::Mutex'>Mutex</a></code></h3><div class='impl-methods'><h4 id='method.drop' class='method'><a class='stability Experimental' title='Experimental'></a><code>fn <a href='#method.drop' class='fnname'>drop</a>(&amp;mut self)</code></h4>
</div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <div id="help" class="hidden">
        <div class="shortcuts">
            <h1>Keyboard shortcuts</h1>
            <dl>
                <dt>?</dt>
                <dd>Show this help dialog</dd>
                <dt>S</dt>
                <dd>Focus the search field</dd>
                <dt>&larrb;</dt>
                <dd>Move up in search results</dd>
                <dt>&rarrb;</dt>
                <dd>Move down in search results</dd>
                <dt>&#9166;</dt>
                <dd>Go to active search result</dd>
            </dl>
        </div>
        <div class="infos">
            <h1>Search tricks</h1>
            <p>
                Prefix searches with a type followed by a colon (e.g.
                <code>fn:</code>) to restrict the search to a given type.
            </p>
            <p>
                Accepted types are: <code>fn</code>, <code>mod</code>,
                <code>struct</code> (or <code>str</code>), <code>enum</code>,
                <code>trait</code>, <code>typedef</code> (or
                <code>tdef</code>).
            </p>
        </div>
    </div>

    

    <script>
        window.rootPath = "../../";
        window.currentCrate = "sync";
        window.playgroundUrl = "http://play.rust-lang.org/";
    </script>
    <script src="../../jquery.js"></script>
    <script src="../../main.js"></script>
    <script src="../../playpen.js"></script>
    <script async src="../../search-index.js"></script>
</body>
</html>